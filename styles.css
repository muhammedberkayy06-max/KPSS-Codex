/* Apple-ish, clean */
:root{
  --bg:#eef2ff;
  --card:#FFFFFF;
  --text:#0f172a;
  --muted:#6B7280;
  --primary:#2563EB;
  --primary2:#7C3AED;
  --green:#16A34A;
  --red:#DC2626;
  --orange:#F59E0B;
  --border:rgba(15,23,42,.08);
  --shadow:0 18px 40px rgba(79,70,229,.12);
  --radius:18px;
  --radius2:14px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: 'Inter', ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--text);
  background:radial-gradient(circle at 20% 20%, rgba(124,58,237,.08), transparent 32%),
             radial-gradient(circle at 80% 0%, rgba(37,99,235,.08), transparent 30%),
             var(--bg);
}
.bg{
  position:fixed; inset:-18vh -18vw auto -18vw;
  height:52vh;
  background: radial-gradient(closest-side, rgba(37,99,235,.18), transparent 70%),
              radial-gradient(closest-side, rgba(124,58,237,.18), transparent 70%),
              radial-gradient(closest-side, rgba(22,163,74,.10), transparent 60%);
  filter: blur(4px);
  pointer-events:none;
}
.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  padding:16px clamp(14px, 3vw, 28px);
  backdrop-filter: blur(12px);
  background: rgba(255,255,255,.78);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 10px 24px rgba(15,23,42,.04);
}
.brand{display:flex; gap:12px; align-items:center}
.logo{
  width:44px; height:44px;
  border-radius:14px;
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  color:#fff; font-weight:800;
  display:flex; align-items:center; justify-content:center;
  box-shadow: 0 14px 28px rgba(124,58,237,.22);
}
.title .h1{font-size:18px; font-weight:800; letter-spacing:.2px}
.title .sub{font-size:12px; color:var(--muted)}

.top-actions{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end}
.chip{
  border:1px solid var(--border);
  background:#fff;
  padding:10px 12px;
  border-radius:999px;
  cursor:pointer;
  font-weight:650;
  box-shadow: 0 10px 22px rgba(79,70,229,.12);
  transition: all .18s ease;
}
.chip:active{transform:scale(.98)}

.container{max-width:1120px; margin:18px auto 56px; padding:0 clamp(14px, 3vw, 28px)}
.card{
  background:linear-gradient(135deg, rgba(255,255,255,.96), rgba(255,255,255,.9));
  border:1px solid rgba(124,58,237,.06);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding:20px;
  margin:18px 0;
  position:relative;
  overflow:hidden;
}

.card::after{
  content:"";
  position:absolute; inset:0;
  border-radius:inherit;
  border:1px solid rgba(255,255,255,.35);
  pointer-events:none;
}
.card-head{display:flex; align-items:flex-end; justify-content:space-between; gap:10px; margin-bottom:14px}
.card h2{margin:0; font-size:18px}
.muted{color:var(--muted); font-size:13px}

.hero-card{padding:22px 22px 16px; border:1px solid rgba(37,99,235,.08);}
.hero-grid{display:grid; grid-template-columns: 1.3fr 1fr; gap:20px; align-items:center}
.hero-left{display:flex; flex-direction:column; gap:8px; position:relative; z-index:1}
.hero-title{margin:0; font-size:28px; font-weight:900; letter-spacing:-0.4px}
.hero-sub{margin:0; color:#475569; line-height:1.5; max-width:560px}
.eyebrow{font-size:12px; font-weight:800; color:var(--primary); text-transform:uppercase; letter-spacing:1px; margin:0}
.hero-actions .btn{box-shadow:0 12px 24px rgba(37,99,235,.18);}
.hero-stats{display:grid; grid-template-columns:repeat(3, minmax(110px,1fr)); gap:12px}
.stat-tile{background:linear-gradient(135deg, rgba(37,99,235,.1), rgba(124,58,237,.08)); border:1px solid rgba(37,99,235,.12); border-radius:16px; padding:14px; box-shadow:0 12px 24px rgba(124,58,237,.14); position:relative; overflow:hidden}
.stat-value{font-size:22px; font-weight:900; margin-bottom:4px}
.stat-label{font-size:12px; font-weight:800; color:#475569; text-transform:uppercase; letter-spacing:.5px}

.nav-bar{margin-top:16px; display:flex; gap:10px; flex-wrap:wrap; position:relative; z-index:1}
.nav-link{
  border:1px solid var(--border);
  background:rgba(255,255,255,.88);
  padding:10px 12px;
  border-radius:12px;
  font-weight:800;
  color:var(--muted);
  cursor:pointer;
  box-shadow:0 10px 22px rgba(79,70,229,.10);
  transition: all .16s ease;
}
.nav-link.active,.nav-link:hover{color:var(--text); border-color: rgba(124,58,237,.22); box-shadow:0 0 0 3px rgba(124,58,237,.10);}

.diag-list { display: grid; gap: 10px; counter-reset: diag; max-height: 320px; overflow-y: auto; padding-left: 0; }
.diag-list li { list-style: none; padding: 10px 12px; border: 1px solid rgba(15,23,42,.08); border-radius: 12px; background: rgba(15,23,42,.02); line-height: 1.4; }
.diag-list li::before { counter-increment: diag; content: counter(diag) ". "; font-weight: 700; color: #0A84FF; margin-right: 6px; }
.diag-list .diag-meta { display: flex; flex-wrap: wrap; gap: 10px; font-size: 12px; color: #64748b; }
.diag-list .diag-title { font-weight: 700; color: #0f172a; }

.grid{display:grid; grid-template-columns: repeat(6, 1fr); gap:12px}
.field{grid-column: span 2}
.field label{display:block; font-size:12px; color:var(--muted); margin-bottom:6px; font-weight:700}
select,input{
  width:100%;
  border:1px solid var(--border);
  background:#fff;
  padding:12px 12px;
  border-radius: 14px;
  outline:none;
  font-size:14px;
}
.hint{margin-top:6px; font-size:12px; color:var(--muted)}

.icon-grid{display:grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap:10px; margin:8px 0 0}
.icon-tile{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--border);
  background:#fff;
  border-radius: 14px;
  padding:10px 12px;
  cursor:pointer;
  box-shadow: 0 6px 14px rgba(0,0,0,.04);
  font-weight:800;
}
.icon-tile .emoji{font-size:22px}
.icon-tile .meta{display:flex; flex-direction:column; gap:2px}
.icon-tile .name{font-size:14px}
.icon-tile .count{font-size:12px; color:var(--muted); font-weight:700}
.icon-tile.active{border-color: rgba(10,132,255,.35); box-shadow: 0 0 0 3px rgba(10,132,255,.12);}
.icon-tile.disabled{opacity:.55; cursor:not-allowed}

.seg{display:flex; gap:8px}
.seg-btn{
  flex:1;
  border:1px solid var(--border);
  background:#fff;
  padding:12px;
  border-radius:14px;
  cursor:pointer;
  font-weight:800;
}
.seg-btn.active{
  border-color: rgba(10,132,255,.35);
  box-shadow: 0 0 0 3px rgba(10,132,255,.12);
}

.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.actions{margin-top:14px}
.btn{
  border:1px solid var(--border);
  background:linear-gradient(135deg, rgba(255,255,255,1), rgba(255,255,255,.92));
  padding:12px 14px;
  border-radius: 14px;
  cursor:pointer;
  font-weight:850;
  transition:all .16s ease;
}
.btn.sm{padding:10px 12px; border-radius:12px; font-weight:800}
.btn.primary{
  background: linear-gradient(135deg, var(--primary), var(--primary2));
  border-color: transparent;
  color:#fff;
}
.btn.ghost{background:rgba(255,255,255,.78); border-color: rgba(15,23,42,.08); color:var(--text); box-shadow:0 10px 20px rgba(15,23,42,.06);}
.btn.danger{background:#fff; border-color: rgba(220,38,38,.25); color: var(--red)}
.btn:hover{transform:translateY(-1px); box-shadow:0 10px 20px rgba(79,70,229,.18)}
.btn:active{transform:scale(.99)}
.btn.pulse{position:relative; box-shadow:0 14px 26px rgba(37,99,235,.22)}
.btn.pulse::after{content:""; position:absolute; inset:-4px; border-radius:14px; border:2px solid rgba(37,99,235,.35); opacity:.6; animation:pulse 1.5s ease infinite;}

.plan-cta{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 14px; border:1px dashed rgba(37,99,235,.35); border-radius:14px; background:rgba(37,99,235,.06); box-shadow:0 12px 22px rgba(37,99,235,.12); margin-top:10px;}
.plan-cta .text{font-weight:800; color:#0f172a;}

@keyframes pulse{0%{transform:scale(1); opacity:0.75;}50%{transform:scale(1.03); opacity:1;}100%{transform:scale(1); opacity:0.75;}}

.toggle{display:flex; align-items:center; gap:10px; font-size:13px; color:var(--text); font-weight:700}
.toggle input{width:18px; height:18px}

.notice{
  margin-top:12px;
  padding:12px 12px;
  border-radius: 14px;
  border:1px solid var(--border);
  background:rgba(10,132,255,.06);
  font-size:13px;
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
  justify-content:space-between;
}
.notice button{margin-left:auto;}

.diag-list{list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px;}
.diag-item{display:flex; gap:12px; align-items:center; padding:10px 12px; border:1px solid rgba(148,163,184,0.35); border-radius:12px; background:rgba(248,250,252,0.7); box-shadow:0 6px 18px rgba(15,23,42,0.04);}
.diag-item.error{border-color:rgba(248,113,113,0.55); background:rgba(254,226,226,0.5);}
.diag-count{min-width:38px; height:38px; border-radius:12px; background:linear-gradient(120deg,#0ea5e9,#6366f1); color:#fff; display:inline-flex; align-items:center; justify-content:center; font-weight:800; box-shadow:0 8px 20px rgba(99,102,241,0.25);}
.diag-item.error .diag-count{background:linear-gradient(120deg,#f43f5e,#f97316); box-shadow:0 8px 18px rgba(244,63,94,0.3);}
.diag-title{font-weight:700; color:#0f172a;}
.diag-meta{font-size:13px; color:#475569;}
.diag-src{display:inline-block; padding:2px 8px; background:rgba(14,165,233,0.12); color:#0369a1; border-radius:999px;}
.diag-item.error .diag-src{background:rgba(244,63,94,0.12); color:#be123c;}
.diag-ts{margin-left:6px; color:#94a3b8;}

.quiz-top{display:flex; gap:12px; justify-content:space-between; align-items:flex-start}
.pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background:#fff;
  font-size:12px;
  color:var(--muted);
  font-weight:800;
}
.qtitle{font-size:18px; font-weight:900; margin-top:10px}
.paragraph{margin-top:10px; padding:12px; border-radius:14px; border:1px dashed rgba(17,24,39,.12); background: rgba(245,247,251,.6)}

.quiz-right{min-width:260px}
.scorebox{display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap}
.score{font-weight:900; color:var(--text); font-size:13px}
.progress{height:10px; background:rgba(17,24,39,.06); border-radius:999px; overflow:hidden; margin:10px 0 6px}
.bar{height:100%; width:0%; background: linear-gradient(90deg, var(--primary), var(--green)); border-radius:999px}

.options{display:grid; gap:10px; margin-top:14px}
.opt{
  padding:12px 12px;
  border-radius:14px;
  border:1px solid var(--border);
  background:#fff;
  cursor:pointer;
  font-weight:800;
  text-align:left;
}
.opt small{display:block; font-weight:700; color:var(--muted); margin-top:3px}
.opt.correct{border-color: rgba(22,163,74,.35); background: rgba(22,163,74,.08)}
.opt.wrong{border-color: rgba(220,38,38,.35); background: rgba(220,38,38,.07)}
.opt.disabled{cursor:default; opacity:.95}

.explain{margin-top:14px; padding:12px; border-radius:14px; border:1px solid var(--border); background: rgba(245,247,251,.65)}
.explain-head{display:flex; justify-content:space-between; align-items:center; gap:10px}
.tag{font-weight:900; font-size:12px}
.tag.ok{color:var(--green)}
.tag.bad{color:var(--red)}
.coach{margin-top:10px; font-size:13px; color: var(--muted); font-style:italic}

.grid.two{grid-template-columns: 1fr 1fr}
.mini{padding:12px; border:1px solid var(--border); border-radius: 16px; background:rgba(255,255,255,.8)}
.mini-title{font-weight:900; margin-bottom:10px}
.topics{display:flex; flex-wrap:wrap; gap:8px}
.topic{
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  font-size:12px;
  font-weight:900;
}
.topic.good{background: rgba(22,163,74,.10); border-color: rgba(22,163,74,.25)}
.topic.mid{background: rgba(245,158,11,.12); border-color: rgba(245,158,11,.25)}
.topic.bad{background: rgba(220,38,38,.10); border-color: rgba(220,38,38,.25)}

.plan{display:grid; gap:10px}
.plan-item{padding:10px; border-radius:14px; border:1px solid var(--border); background:#fff}
.plan-item b{display:block}

.foot{margin-top:14px; text-align:center}

@media (max-width: 920px){
  .grid{grid-template-columns: repeat(2,1fr)}
  .field{grid-column: span 2}
  .quiz-right{min-width:unset}
  .quiz-top{flex-direction:column}
  .grid.two{grid-template-columns:1fr}
  .hero-grid{grid-template-columns:1fr;}
  .hero-stats{grid-template-columns:repeat(2,minmax(120px,1fr));}
}
